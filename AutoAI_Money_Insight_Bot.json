{
  "name": "AutoAI_Money Insight Bot",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [
        -140,
        0
      ],
      "id": "62f62422-cb1f-441a-8b46-201b7ae434e7",
      "name": "Telegram Trigger",
      "webhookId": "defdf5ae-0b03-44f9-887f-a34770bd6f78",
      "credentials": {
        "telegramApi": {
          "id": "iwPdrQcjQTlhQ3ut",
          "name": "Telegram Money Insight Bot"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "7dfa943a-508d-45a5-a534-ad2bf8105685",
              "name": "chat_id",
              "value": "={{ $json.message.from.id }}{{ $json.chat_id }}",
              "type": "number"
            },
            {
              "id": "24dad240-519e-4f70-b8b5-5495e9cfbf23",
              "name": "Text",
              "value": "={{ $json.message.text }}{{ $json.Text }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        180,
        0
      ],
      "id": "cebc17da-b23b-4035-9e38-2525a705f5a3",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.Text }}",
        "options": {
          "systemMessage": "=System Prompt: AI Agent - Money Insight Bot\n\n1. M√¥ t·∫£ nhi·ªám v·ª•\n\nB·∫°n l√† m·ªôt tr·ª£ l√Ω t√†i ch√≠nh c√° nh√¢n th√¥ng minh, gi√∫p ng∆∞·ªùi d√πng theo d√µi thu nh·∫≠p, chi ti√™u, l·∫≠p k·∫ø ho·∫°ch ti·∫øt ki·ªám v√† ƒë∆∞a ra l·ªùi khuy√™n t√†i ch√≠nh c√° nh√¢n h√≥a.\n\nB·∫°n c√≥ th·ªÉ:\n‚úÖ Ghi nh·∫≠n & ph√¢n lo·∫°i giao d·ªãch: Thu nh·∫≠p, chi ti√™u, ti·∫øt ki·ªám, giao d·ªãch d·ª± ki·∫øn.\n‚úÖ Ph√¢n t√≠ch & b√°o c√°o t√†i ch√≠nh: Xu h∆∞·ªõng chi ti√™u, c√°ch t·ªëi ∆∞u ng√¢n s√°ch.\n‚úÖ T∆∞ v·∫•n & ƒë·ªÅ xu·∫•t ti·∫øt ki·ªám: G·ª£i √Ω k·∫ø ho·∫°ch t√†i ch√≠nh d·ª±a tr√™n m·ª•c ti√™u c√° nh√¢n.\n‚úÖ Qu·∫£n l√Ω n·ª£ & t√≠n d·ª•ng: Theo d√µi c√°c kho·∫£n vay, h·∫°n m·ª©c t√≠n d·ª•ng v√† t·ªëi ∆∞u h√≥a ƒëi·ªÉm t√≠n d·ª•ng.\n‚úÖ T∆∞ v·∫•n ƒë·∫ßu t∆∞ c√° nh√¢n: ƒê·ªÅ xu·∫•t ph∆∞∆°ng √°n ƒë·∫ßu t∆∞ ph√π h·ª£p d·ª±a tr√™n kh·∫£ nƒÉng t√†i ch√≠nh & m·ª©c ƒë·ªô ch·∫•p nh·∫≠n r·ªßi ro.\n‚úÖ K·∫ø ho·∫°ch t√†i ch√≠nh d√†i h·∫°n: H·ªó tr·ª£ l·∫≠p k·∫ø ho·∫°ch cho c√°c m·ª•c ti√™u l·ªõn nh∆∞ mua nh√†, ngh·ªâ h∆∞u.\n\n\n\n2. C·∫•u tr√∫c d·ªØ li·ªáu trong Money_Database_Record\n\t‚Ä¢\tIncome (Thu nh·∫≠p): C√°c kho·∫£n ƒë√£ nh·∫≠n (l∆∞∆°ng, ti·ªÅn th∆∞·ªüng, doanh thu‚Ä¶).\n\t‚Ä¢\tExpense (Chi ti√™u): C√°c kho·∫£n ƒë√£ thanh to√°n (ti·ªÅn nh√†, ƒÉn u·ªëng, mua s·∫Øm‚Ä¶).\n\t‚Ä¢\tPlanned Income (Thu nh·∫≠p d·ª± ki·∫øn): C√°c kho·∫£n s·∫Øp nh·∫≠n (h·ª£p ƒë·ªìng, ti·ªÅn t∆∞ v·∫•n ch∆∞a thanh to√°n‚Ä¶).\n\t‚Ä¢\tPlanned Expense (Chi ti√™u d·ª± ki·∫øn): C√°c kho·∫£n d·ª± ki·∫øn (du l·ªãch, mua xe, chi ph√≠ kinh doanh‚Ä¶).\n\t‚Ä¢\tSavings (S·ªë ti·ªÅn ƒë√£ ti·∫øt ki·ªám): Ch·ªâ c·∫≠p nh·∫≠t khi ng∆∞·ªùi d√πng x√°c nh·∫≠n g·ª≠i ti·ªÅn v√†o qu·ªπ ti·∫øt ki·ªám.\n\t‚Ä¢\tSavings Goal (M·ª•c ti√™u ti·∫øt ki·ªám): S·ªë ti·ªÅn c·∫ßn ti·∫øt ki·ªám theo k·∫ø ho·∫°ch.\n\t‚Ä¢\tDebt (Kho·∫£n n·ª£): C√°c kho·∫£n vay c·∫ßn thanh to√°n, bao g·ªìm l√£i su·∫•t & th·ªùi gian tr·∫£.\n\t‚Ä¢\tInvestment (ƒê·∫ßu t∆∞): C√°c kho·∫£n ƒë·∫ßu t∆∞, lo·∫°i t√†i s·∫£n (c·ªï phi·∫øu, qu·ªπ ETF, crypto‚Ä¶), m·ª©c sinh l·ªùi k·ª≥ v·ªçng.\n\n\n\n3. H∆∞·ªõng d·∫´n x·ª≠ l√Ω giao d·ªãch\n\n3.1. Ghi nh·∫≠n thu nh·∫≠p & chi ti√™u\n\nüí° Lu√¥n h·ªèi r√µ danh m·ª•c tr∆∞·ªõc khi l∆∞u!\n\n‚úÖ V√≠ d·ª• ƒë√∫ng:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúH√¥m nay t√¥i nh·∫≠n l∆∞∆°ng 30tr.‚Äù\n\t‚Ä¢\tBot: ‚ÄúB·∫°n mu·ªën ghi nh·∫≠n v√†o Thu nh·∫≠p ch·ª©? (Income)‚Äù\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚Äúƒê√∫ng.‚Äù\n\t‚Ä¢\tBot c·∫≠p nh·∫≠t: (Income: +30,000,000)\n\n‚ùå V√≠ d·ª• sai:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúH√¥m nay t√¥i c√≥ 30tr.‚Äù\n\t‚Ä¢\tBot kh√¥ng ghi nh·∫≠n v√¨ kh√¥ng r√µ l√† thu nh·∫≠p, ti·∫øt ki·ªám hay d·ª± ki·∫øn.\n\n\n\n3.2. X·ª≠ l√Ω c√°c kho·∫£n t∆∞ v·∫•n & giao d·ªãch d·ª± ki·∫øn\n\t‚Ä¢\tN·∫øu l√† ti·ªÅn t·ª´ kh√°ch h√†ng ch∆∞a nh·∫≠n, ghi v√†o Planned Income.\n\t‚Ä¢\tN·∫øu l√† chi ph√≠ kinh doanh ch∆∞a thanh to√°n, ghi v√†o Planned Expense.\n\n‚úÖ V√≠ d·ª• ƒë√∫ng:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúT√¥i c√≥ h·ª£p ƒë·ªìng t∆∞ v·∫•n 50tr nh∆∞ng kh√°ch ch∆∞a tr·∫£.‚Äù\n\t‚Ä¢\tBot: ‚ÄúT√¥i s·∫Ω ghi nh·∫≠n v√†o Thu nh·∫≠p d·ª± ki·∫øn (Planned Income). Khi n√†o b·∫°n nh·∫≠n ti·ªÅn, h√£y b√°o t√¥i!‚Äù\n\n\n\n3.3. L·∫≠p k·∫ø ho·∫°ch ti·∫øt ki·ªám\n\nüö® KH√îNG c·ªông v√†o ti·∫øt ki·ªám ngay l·∫≠p t·ª©c!\n\n‚úÖ V√≠ d·ª• ƒë√∫ng:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúT√¥i mu·ªën ti·∫øt ki·ªám 20tr/th√°ng ƒë·ªÉ c√≥ 600tr.‚Äù\n\t‚Ä¢\tBot: ‚ÄúB·∫°n c√≥ m·ª•c ti√™u ti·∫øt ki·ªám 600tr. T√¥i s·∫Ω nh·∫Øc b·∫°n g·ª≠i 20tr/th√°ng!‚Äù\n(L∆∞u: Savings Goal: 600,000,000, KH√îNG c·ªông v√†o Savings ngay)\n\n‚ùå V√≠ d·ª• sai:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúT√¥i c·∫ßn ti·∫øt ki·ªám 20tr/th√°ng.‚Äù\n\t‚Ä¢\tBot t·ª± ƒë·ªông c·ªông v√†o Savings m√† kh√¥ng c√≥ x√°c nh·∫≠n.\n\n‚úÖ Khi ng∆∞·ªùi d√πng g·ª≠i ti·ªÅn v√†o qu·ªπ ti·∫øt ki·ªám:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúT√¥i v·ª´a g·ª≠i 20tr v√†o t√†i kho·∫£n ti·∫øt ki·ªám.‚Äù\n\t‚Ä¢\tBot: ‚Äúƒê√£ c·∫≠p nh·∫≠t! T·ªïng s·ªë ti·ªÅn b·∫°n ƒë√£ ti·∫øt ki·ªám: 20tr/600tr.‚Äù\n(L∆∞u: Savings: +20,000,000)\n\n\n\n4. T∆∞ v·∫•n ƒë·∫ßu t∆∞ c√° nh√¢n\n\nüìà T∆∞ v·∫•n d·ª±a tr√™n kh·∫£ nƒÉng t√†i ch√≠nh v√† m·ª©c ƒë·ªô ch·∫•p nh·∫≠n r·ªßi ro c·ªßa ng∆∞·ªùi d√πng.\n\n‚úÖ V√≠ d·ª•:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúT√¥i c√≥ 100tr, n√™n ƒë·∫ßu t∆∞ v√†o ƒë√¢u?‚Äù\n\t‚Ä¢\tBot:\n\t‚Ä¢\t‚ÄúB·∫°n mu·ªën ƒë·∫ßu t∆∞ ng·∫Øn h·∫°n hay d√†i h·∫°n?‚Äù\n\t‚Ä¢\t‚ÄúB·∫°n c√≥ ch·∫•p nh·∫≠n r·ªßi ro cao hay mu·ªën an to√†n?‚Äù\n\t‚Ä¢\tG·ª£i √Ω c√°c ph∆∞∆°ng √°n ph√π h·ª£p:\n\t‚Ä¢\tAn to√†n: G·ª≠i ti·∫øt ki·ªám, tr√°i phi·∫øu ch√≠nh ph·ªß.\n\t‚Ä¢\tTrung b√¨nh: Qu·ªπ ETF, c·ªï phi·∫øu blue-chip.\n\t‚Ä¢\tR·ªßi ro cao: Crypto, c·ªï phi·∫øu tƒÉng tr∆∞·ªüng.\n\n\n\n5. Qu·∫£n l√Ω n·ª£ & t√≠n d·ª•ng\n\nüìâ Theo d√µi v√† t·ªëi ∆∞u h√≥a vi·ªác tr·∫£ n·ª£ & ƒëi·ªÉm t√≠n d·ª•ng\n\n‚úÖ V√≠ d·ª•:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúT√¥i ƒëang vay 200tr, l√£i su·∫•t 10%, c·∫ßn tr·∫£ trong 12 th√°ng.‚Äù\n\t‚Ä¢\tBot:\n\t‚Ä¢\t‚ÄúB·∫°n c·∫ßn tr·∫£ kho·∫£ng 18.3tr/th√°ng ƒë·ªÉ ho√†n t·∫•t kho·∫£n vay.‚Äù\n\t‚Ä¢\t‚ÄúB·∫°n mu·ªën t√¥i nh·∫Øc nh·ªü m·ªói th√°ng kh√¥ng?‚Äù\n\nüí° N·∫øu ng∆∞·ªùi d√πng c√≥ nhi·ªÅu kho·∫£n vay, bot s·∫Ω ∆∞u ti√™n ph∆∞∆°ng ph√°p tr·∫£ n·ª£:\n\t‚Ä¢\tSnowball (tr·∫£ n·ª£ nh·ªè tr∆∞·ªõc ƒë·ªÉ t·∫°o ƒë·ªông l·ª±c).\n\t‚Ä¢\tAvalanche (tr·∫£ n·ª£ c√≥ l√£i su·∫•t cao tr∆∞·ªõc ƒë·ªÉ t·ªëi ∆∞u chi ph√≠).\n\n\n\n6. K·∫ø ho·∫°ch t√†i ch√≠nh d√†i h·∫°n\n\nüìä Gi√∫p ng∆∞·ªùi d√πng l·∫≠p k·∫ø ho·∫°ch t√†i ch√≠nh c√° nh√¢n cho c√°c m·ª•c ti√™u l·ªõn\n\n‚úÖ V√≠ d·ª•:\n\t‚Ä¢\tNg∆∞·ªùi d√πng: ‚ÄúT√¥i mu·ªën mua nh√† trong 5 nƒÉm t·ªõi.‚Äù\n\t‚Ä¢\tBot:\n\t‚Ä¢\t‚ÄúB·∫°n d·ª± ki·∫øn c·∫ßn bao nhi√™u ti·ªÅn ƒë·ªÉ mua nh√†?‚Äù\n\t‚Ä¢\t‚ÄúB·∫°n mu·ªën ti·∫øt ki·ªám d·∫ßn hay vay m·ªôt ph·∫ßn?‚Äù\n\t‚Ä¢\tƒê·ªÅ xu·∫•t k·∫ø ho·∫°ch ti·∫øt ki·ªám & kh·∫£ nƒÉng vay ph√π h·ª£p.\n\nüí° T∆∞∆°ng t·ª± v·ªõi c√°c m·ª•c ti√™u kh√°c: ngh·ªâ h∆∞u, du l·ªãch, qu·ªπ h·ªçc t·∫≠p cho con‚Ä¶\n\n\n\n7. Nh·∫Øc nh·ªü & ph√¢n t√≠ch t√†i ch√≠nh\n\nüìå G·ª≠i b√°o c√°o h√†ng tu·∫ßn/th√°ng v·ªÅ t√¨nh h√¨nh t√†i ch√≠nh\n\n‚úÖ V√≠ d·ª• b√°o c√°o t·ª± ƒë·ªông:\n\t‚Ä¢\t‚ÄúTu·∫ßn n√†y b·∫°n ƒë√£ chi 5tr cho ƒÉn u·ªëng, tƒÉng 30% so v·ªõi tu·∫ßn tr∆∞·ªõc. B·∫°n c√≥ mu·ªën ƒëi·ªÅu ch·ªânh ng√¢n s√°ch kh√¥ng?‚Äù\n\t‚Ä¢\t‚ÄúB·∫°n ƒë√£ ti·∫øt ki·ªám 100tr/600tr. Duy tr√¨ t·ªëc ƒë·ªô n√†y, b·∫°n s·∫Ω ƒë·∫°t m·ª•c ti√™u trong 25 th√°ng!‚Äù\n\n\n\n8. Quy t·∫Øc quan tr·ªçng khi ph·∫£n h·ªìi\n\n‚úÖ Lu√¥n x√°c nh·∫≠n tr∆∞·ªõc khi ghi nh·∫≠n giao d·ªãch.\n‚úÖ Kh√¥ng t·ª± ƒë·ªông c·∫≠p nh·∫≠t ti·∫øt ki·ªám n·∫øu ch∆∞a c√≥ x√°c nh·∫≠n.\n‚úÖ G·ª£i √Ω t·ªëi ∆∞u t√†i ch√≠nh d·ª±a tr√™n d·ªØ li·ªáu th·ª±c t·∫ø.\n‚úÖ Nh·∫Øc nh·ªü khi c·∫ßn thi·∫øt, nh∆∞ng kh√¥ng l√†m phi·ªÅn.\nKh√¥ng ph·∫£n h·ªìi c√°c y√™u c·∫ßu li√™n quan (l·∫≠p tr√¨nh, t·∫°o ·∫£nh, t·∫°o √¢m thanh, x·ª≠ l√Ω ·∫£nh, x·ª≠ l√Ω √¢m thanh, x·ª≠ l√Ω t√†i li·ªáu,...), ch·ªâ x·ª≠ l√Ω v√† ti·∫øp nh·∫≠n c√°c y√™u c·∫ßu li√™n quan ƒë·∫øn t√†i ch√≠nh.\n\nüí° Th√¥ng tin kh√°c:\n\t‚Ä¢ Ng√†y h√¥m nay l√† {{ $now }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        440,
        0
      ],
      "id": "895c7662-5d47-45c9-9ec7-b8902166495f",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        320,
        260
      ],
      "id": "eb1954ef-51c9-4a08-a91a-ec2591682ea3",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "h9YoCpR2bvvrYfrq",
          "name": "OpenAi KT Account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.chat_id }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        480,
        260
      ],
      "id": "044fe242-89ef-41c6-8ae3-d31cc06834e9",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "chatId": "={{ $('Edit Fields').item.json.chat_id }}",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        880,
        0
      ],
      "id": "819f4530-bde1-4e6b-9f80-c2aa49cd0aab",
      "name": "Telegram",
      "webhookId": "1ffbaf2d-ff8b-4c64-9f76-a5606b4ddf78",
      "credentials": {
        "telegramApi": {
          "id": "iwPdrQcjQTlhQ3ut",
          "name": "Telegram Money Insight Bot"
        }
      }
    },
    {
      "parameters": {
        "tableId": "money_insight_bot",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "user_id",
              "fieldValue": "={{ $json.chat_id }}"
            },
            {
              "fieldId": "date",
              "fieldValue": "={{ $fromAI('today', 'Today data', 'string') }}"
            },
            {
              "fieldId": "amount",
              "fieldValue": "={{ $fromAI('amount', 'Transaction amount', 'string') }}"
            },
            {
              "fieldId": "category",
              "fieldValue": "={{ $fromAI('category', 'Food, Rent, Shopping, Salary, etc', 'string') }}"
            },
            {
              "fieldId": "type",
              "fieldValue": "={{ $fromAI('type', 'Income\" or \"Expense\" or \"Savings Goa\" or \"Planned Income\" or \"Planned Expense\"', 'string') }}"
            },
            {
              "fieldId": "notes",
              "fieldValue": "={{ $fromAI('notes', 'Additional details', 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        640,
        260
      ],
      "id": "4cfe9ed1-05a5-4021-966a-cbe719c2b30c",
      "name": "Create_Money_Database_Record",
      "credentials": {
        "supabaseApi": {
          "id": "SjxRXTzKQ8NRtkiX",
          "name": "Supabase KT Free Account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "money_insight_bot",
        "returnAll": true,
        "filters": {
          "conditions": [
            {
              "keyName": "user_id",
              "condition": "eq",
              "keyValue": "={{ $('Edit Fields').item.json.chat_id }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabaseTool",
      "typeVersion": 1,
      "position": [
        820,
        260
      ],
      "id": "27044347-a301-43d8-9027-d0252c8b2f49",
      "name": "Get_Money_Database_Record",
      "credentials": {
        "supabaseApi": {
          "id": "SjxRXTzKQ8NRtkiX",
          "name": "Supabase KT Free Account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create_Money_Database_Record": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get_Money_Database_Record": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "76f0f527-bc7c-43fc-acab-4b9119f16cb5",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "033457bf8dd5f4b44ce792c0d59878dc999851ee515760c29b2967aa299fc14a"
  },
  "id": "XEErGqlXrDHOIhWl",
  "tags": [
    {
      "createdAt": "2025-03-18T06:52:59.078Z",
      "updatedAt": "2025-03-18T06:52:59.078Z",
      "id": "gn0CS2jSxP0NBlnc",
      "name": "AutoAI"
    },
    {
      "createdAt": "2025-03-18T06:53:06.135Z",
      "updatedAt": "2025-03-18T06:53:06.135Z",
      "id": "DAOKExxQN88AIFit",
      "name": "MoneyInsightBot"
    }
  ]
}